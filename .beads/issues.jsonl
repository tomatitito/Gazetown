{"id":"gazetown-2fh","title":"Establish upstream sync strategy with Zed repository","description":"We need a strategy to keep Gazetown in sync with upstream Zed changes, particularly for shared code we depend on (GPUI, core crates).\n\n## Problem\n\nGazetown is a fork of Zed. When upstream Zed makes breaking changes (like the GPUI refactor in 6fca1d2b0b), our code breaks. We discovered this when gastown failed to compile due to ViewContext/WindowContext removal.\n\n## Questions to Answer\n\n1. Which crates do we actually use/modify vs. just inherit?\n2. How often should we sync with upstream?\n3. Should we track upstream as a git remote and periodically merge/rebase?\n4. How do we handle conflicts in crates we've modified?\n\n## Possible Approaches\n\n1. **Periodic merge**: Add zed/zed as upstream remote, merge main periodically\n2. **Cherry-pick**: Only pull specific commits/features we need\n3. **Diverge fully**: Accept we're a fork and handle API changes manually\n4. **Subtree/submodule**: Extract shared crates as separate dependencies\n\n## Considerations\n\n- We have local modifications to CI workflows (xtask)\n- gastown is our custom crate that uses GPUI\n- Most other crates are unmodified from Zed","acceptance_criteria":"- [ ] Document which crates we modify vs. use as-is\n- [ ] Choose and document sync strategy\n- [ ] Set up upstream remote if using merge approach\n- [ ] Create runbook for handling upstream syncs","status":"open","priority":2,"issue_type":"task","owner":"jens.kouros@posteo.de","created_at":"2026-01-14T22:32:06.091977+01:00","created_by":"Jens Kouros","updated_at":"2026-01-14T22:32:06.091977+01:00","labels":["documentation","infrastructure","upstream"]}
{"id":"gazetown-tpu","title":"Support Danger CI for fork PRs using a Personal Access Token","description":"## Context\n\nThe Danger workflow currently uses the built-in `GITHUB_TOKEN` for authentication. This works for PRs from the same repository but **won't work for PRs from forks** since `GITHUB_TOKEN` has restricted write permissions on fork PRs.\n\n## Task\n\nTo support external contributors submitting PRs from forks:\n\n1. Create a fine-grained GitHub PAT with `Pull requests: Read and write` permission scoped to this repository\n2. Add it as a repository secret named `DANGER_GITHUB_API_TOKEN`\n3. Update `tooling/xtask/src/tasks/workflows/danger.rs` to use `secrets.DANGER_GITHUB_API_TOKEN` instead of `secrets.GITHUB_TOKEN`\n4. Regenerate workflows with `cargo xtask workflows`\n\n## References\n\n- [GitHub fine-grained PATs](https://github.com/settings/tokens?type=beta)\n- [Repository secrets](https://github.com/tomatitito/Gazetown/settings/secrets/actions)","status":"tombstone","priority":2,"issue_type":"task","owner":"jens.kouros@posteo.de","created_at":"2026-01-14T19:23:25.390825+01:00","created_by":"Jens Kouros","updated_at":"2026-01-14T19:25:15.645094+01:00","deleted_at":"2026-01-14T19:25:15.645094+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"gazetown-vj7","title":"Fix gastown crate to use current GPUI API","description":"The gastown crate in crates/gastown/src/main.rs has compile errors due to GPUI API changes.\n\n## Background\n\nGPUI underwent a major refactor in commit 6fca1d2b0b ('Eliminate GPUI View, ViewContext, and WindowContext types'). The gastown skeleton was written using the old API.\n\n## Current Errors\n\n1. `ViewContext` no longer exists\n2. `AppContext` is now a trait, not a concrete type\n3. `cx.new_view()` method doesn't exist on `\u0026mut App`\n4. Unused `App` import\n\n## New GPUI API Mapping\n\n| Old Type | New Type |\n|----------|----------|\n| View\u003cT\u003e / Model\u003cT\u003e | Entity\u003cT\u003e |\n| AppContext | \u0026mut App |\n| ModelContext\u003cT\u003e | \u0026mut Context\u003cT\u003e |\n| WindowContext | \u0026mut Window, \u0026mut App (two params) |\n| ViewContext\u003cT\u003e | \u0026mut Window, \u0026mut Context\u003cT\u003e (two params) |","acceptance_criteria":"- [ ] gastown compiles without errors\n- [ ] gastown runs and displays a window\n- [ ] CI checks pass for gastown","status":"in_progress","priority":2,"issue_type":"bug","owner":"jens.kouros@posteo.de","created_at":"2026-01-14T22:31:52.204054+01:00","created_by":"Jens Kouros","updated_at":"2026-01-14T22:37:32.708972+01:00","labels":["ci-blocker","gastown","gpui"]}
